# React table of content

Provides hooks and utility functions to create a custom and reusable autogenerated table of content for a React project, works really well with markdown content as well.

## Table of Contents

- [React table of content](#react-table-of-content)
  - [Table of Contents](#table-of-contents)
  - [Features](#features)
  - [Installation](#installation)
  - [Usage](#usage)
  - [Example implementation](#example-implementation)
  - [API](#api)
    - [Hooks](#hooks)
      - [`useTableOfContent(options)`](#usetableofcontentoptions)
        - [Arguments](#arguments)
        - [Return value](#return-value)
    - [Utility functions](#utility-functions)
      - [`addIdToHeadingTags`](#addidtoheadingtags)
        - [Arguments](#arguments-1)
        - [Return value](#return-value-1)
        - [Usage and example](#usage-and-example)
      - [`dashCase`](#dashcase)
        - [Arguments](#arguments-2)
        - [Return value](#return-value-2)
        - [Usage and example](#usage-and-example-1)
  - [License](#license)
  - [Author](#author)

## Features

- Generates a table of content based on the headings in a React component.
- Supports custom selectors for headings.
- Supports custom dependencies to watch for changes.
- Provides utility functions to add IDs to heading tags in HTML.
- Lightweight and easy to use.
- No dependencies.

## Installation

```bash
npm install react-table-of-content
```

## Usage

```jsx
import React from "react";
import { useTableOfContent } from "react-table-of-content";

export const TableOfContent: React.FC<{}> = () => {
  const { headingLinks, contentIsActive } = useTableOfContent();

  //   return (
  //     <>JSX</>
  //   )
};
```

## Example implementation

You can create a reusable component that generates a table of content for your page using the hook. See the example below.

<details>
<summary>Reusable custom TableOfContent component</summary>

```jsx
import React from "react";
import { useTableOfContent } from "react-table-of-content";

export const TableOfContent: React.FC<{}> = () => {
  const { headingLinks, contentIsActive } = useTableOfContent({
    selectors: "article h1, article h2, article h3",
  });

  if (!headingLinks || headingLinks.length < 1) return null;

  return (
    <div>
      <h4 id="on-this-page">ON THIS PAGE</h4>
      <ul className="mt-4 space-y-2">
        {headingLinks.map((link) => {
          const isActive = contentIsActive(link.id);

          return (
            <li key={link.id}>
              <a
                className={`${
                  isActive ? "text-gray-800 font-semibold" : "text-gray-500"
                }
                ${["h3", "h4"].includes(link.tagName.toLowerCase()) && "pl-2"}
                ${["h5", "h6"].includes(link.tagName.toLowerCase()) && "pl-4"}
                hover:text-gray-700 transition-colors duration-200
                `}
                href={`#${link.id}`}
              >
                {link.title}
              </a>
            </li>
          );
        })}
      </ul>
    </div>
  );
};
```

</details>

You can then use the component in your page like so:

<details>
<summary>Example App component that has needs table of content</summary>

```jsx
import React from "react";
import { TableOfContent } from "./TableOfContent";

export const App: React.FC = () => {
  return (
    <div className="flex">
      <div className="p-10 w-64">
        <div className="sticky top-8">
          <TableOfContent />
        </div>
      </div>
      <article className="flex-1">
        <div className="container max-w-screen-xl">
          <section>
            <h1 id="first-heading">H1 heading</h1>
            <p>
              Lorem ipsum dolor sit amet consectetur adipisicing elit. Laborum
              vero accusamus alias cumque numquam atque eius ullam nobis at!
              Necessitatibus, corporis earum? Quidem, corporis blanditiis
              sapiente veritatis saepe debitis expedita!.
            </p>
          </section>
          <section>
            <h2 id="second-heading">H2 heading</h2>
            <p>
              Lorem ipsum dolor sit amet consectetur adipisicing elit. Laborum
              vero accusamus alias cumque numquam atque eius ullam nobis at!
              Necessitatibus, corporis earum? Quidem, corporis blanditiis
              sapiente veritatis saepe debitis expedita!.
            </p>
          </section>
          <section>
            <h3 id="third-heading">H3 heading</h3>
            <p>
              Lorem ipsum dolor sit amet consectetur adipisicing elit. Laborum
              vero accusamus alias cumque numquam atque eius ullam nobis at!
              Necessitatibus, corporis earum? Quidem, corporis blanditiis
              sapiente veritatis saepe debitis expedita!.
            </p>
          </section>
          <section>
            <h4 id="fourth-heading">H4 heading</h4>
            <p>
              Lorem ipsum dolor sit amet consectetur adipisicing elit. Laborum
              vero accusamus alias cumque numquam atque eius ullam nobis at!
              Necessitatibus, corporis earum? Quidem, corporis blanditiis
              sapiente veritatis saepe debitis expedita!.
            </p>
          </section>
          <section>
            <h5 id="fifth-heading">H5 heading</h5>
            <p>
              Lorem ipsum dolor sit amet consectetur adipisicing elit. Laborum
              vero accusamus alias cumque numquam atque eius ullam nobis at!
              Necessitatibus, corporis earum? Quidem, corporis blanditiis
              sapiente veritatis saepe debitis expedita!.
            </p>
          </section>
          <section>
            <h6 id="sixth-heading">H6 heading</h6>
            <p>
              Lorem ipsum dolor sit amet consectetur adipisicing elit. Laborum
              vero accusamus alias cumque numquam atque eius ullam nobis at!
              Necessitatibus, corporis earum? Quidem, corporis blanditiis
              sapiente veritatis saepe debitis expedita!.
            </p>
          </section>
        </div>
      </article>
    </div>
  );
};
```

</details>

## API

### Hooks

#### `useTableOfContent(options)`

The `useTableOfContent` hook generates a table of content for a React component based on the headings in the component.

##### Arguments

| Name        | Type      | Required | Default        | Description                                                                    |
| ----------- | --------- | -------- | -------------- | ------------------------------------------------------------------------------ |
| `selectors` | `string`  | Optional | `"h1, h2, h3"` | A string of comma-separated selectors to use to generate the table of content. |
| `deps`      | `unknown` | Optional | `undefined`    | An item to be used within the dependency array to watch for changes.           |

##### Return value

An object with the following properties:

| Name              | Type       | Description                                                                                                                                                                                                  |
| ----------------- | ---------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| `headingLinks`    | `array`    | It contains an array of objects that have the following properties:`id` (string): The ID of the heading, `title` (string): The text content of the heading, `tagName` (string): The tag name of the heading. |
| `contentIsActive` | `function` | A function that takes an ID of the `headingLink` and returns a `boolean` indicating whether the content with that ID is active.                                                                              |

### Utility functions

The package also exports utility functions that can be used to generate the table of content.

#### `addIdToHeadingTags`

The `addIdToHeadingTags` function adds an ID to each heading tag in a string of HTML.

##### Arguments

Accepts 1 argument of type `string` containing the HTML to add IDs to heading tags.

##### Return value

A `string` of HTML with IDs added to the heading tags.

##### Usage and example

```js
import { addIdToHeadingTags } from "react-table-of-content";

const html = `
  <h1>Heading 1</h1>
  <p>Content 1</p>
  <h2>Heading 2</h2>
  <p>Content 2</p>
`;

const newHtml = addIdToHeadingTags(html);

console.log(newHtml);

// Output:
// <h1 id="heading-1">Heading 1</h1>
// <p>Content 1</p>
// <h2 id="heading-2">Heading 2</h2>
// <p>Content 2</p>
```

#### `dashCase`

It's a function that converts a string to dash case.

##### Arguments

Accepts 1 argument of type `string` to be transformed to a dash cased format.

##### Return value

A string in dash case.

##### Usage and example

```js
import { dashCase } from "react-table-of-content";

const str = "This is a string";

const newStr = dashCase(str);

console.log(newStr);

// Output:
// this-is-a-string
```

## License

MIT

## Author

Precious OSSAI

[Developer Website](https://ossaiprecious.com)
